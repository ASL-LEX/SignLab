<div class="user-grid">
  <table mat-table [dataSource]="users" class="mat-elevate-z8" *ngIf="activeProjectID">
    <!-- Name Column -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef>Name</th>
      <td mat-cell *matCellDef="let user">{{user.name}}</td>
    </ng-container>

    <!-- Username Column -->
    <ng-container matColumnDef="username">
      <th mat-header-cell *matHeaderCellDef>Username</th>
      <td mat-cell *matCellDef="let user">{{user.username}}</td>
    </ng-container>

    <!-- Email Column -->
    <ng-container matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef>Email</th>
      <td mat-cell *matCellDef="let user">{{user.email}}</td>
    </ng-container>

    <!-- Project Admin Access -->
    <ng-container matColumnDef="projectAdmin">
      <th mat-header-cell *matHeaderCellDef>Project Admin</th>
      <td mat-cell *matCellDef="let user">
        <mat-checkbox
          (change)="toggleProjectAdmin(user)"
          [(ngModel)]="user.roles.projectAdmin[activeProjectID]"
        ></mat-checkbox>
    </ng-container>

  </table>
</div>
